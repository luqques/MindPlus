<div class="container rounded-4 shadow bg-white mx-auto my-5 py-4">

  <!-- Abas -->
  <ul class="nav nav-tabs nav-fill pt-3 tabs">
    <h3 class="px-5">Avaliações</h3>
    <li class="nav-item" *ngFor="let section of sections">
      <a class="nav-link" (click)="changeTab(section.id)" [class.active]="currentTab === section.id">{{ section.title }}</a>
    </li>
  </ul>
  
  <!-- Conteúdo das abas -->
  <div *ngFor="let section of sections">
    <table id="{{ section.id }}" class="container text-center mt-5" *ngIf="currentTab === section.id">
      <!-- ... seu conteúdo existente ... -->
    </table>
  </div>

  <!--Satisfação no Trabalho-->
  <table id="satisfacao-no-trabalho" class="container text-center mt-5" *ngIf="currentTab === 1">
    <div class="mx-4">
      <h2>Satisfação no Trabalho</h2>
      <h6>Avalia a satisfação dos colaboradores no ambiente profissional, focando em aspectos como gestão interna, benefícios, cultura organizacional e oportunidades de crescimento.</h6>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Gestão Interna</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasST1; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaST1{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Benefícios</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasST2; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaST2{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Cultura organizacional</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasST3; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaST3{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div> 
  </table>

  <!--Satisfação Pessoal-->
  <table id="satisfacao-no-trabalho" class="container text-center mt-5" *ngIf="currentTab === 2">
    <div class="mx-4">
      <h2>Satisfação Pessoal</h2>
      <h6>Explora aspectos a respeito da qualidade de vida pessoal que podem influenciar o equilíbrio
        trabalho-vida, como saúde, autocuidado, relacionamentos no ambiente doméstico, tempo de descanso e atividades de lazer.</h6>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Saúde e Autocuidado</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasSP1; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaSP1{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Tempo de Descanso</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasSP2; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaSP2{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Hobbies e Interesses</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasSP3; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaSP3{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div> 
  </table>

  <!--Relações Interpessoais-->
  <table id="satisfacao-no-trabalho" class="container text-center mt-5" *ngIf="currentTab === 3">
    <div class="mx-5">
      <h2>Relações Interpessoais</h2>
      <h6>Avalia a qualidade das relações no trabalho e na vida pessoal, com foco em comunicação, colaboração e suporte social.</h6>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Conexões Pessoais</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasRI1; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaRI1{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Bem-Estar no Ambiente de Trabalho</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasRI2; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaRI2{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div>

    <nav class="navbar cabecalho-topicos">
      <div class="container-fluid">
        <a class="navbar-brand">Apoio Emocional</a>
      </div>
    </nav>
    <div *ngFor="let pergunta of perguntasRI3; let i = index">
      <p class="mt-5">{{ pergunta }}</p>
      <form  [formGroup]="avaliacaoFormGroup" (ngSubmit)="salvarResultados(currentTab)">
        <input type="range" class="form-range range-concordancia" formControlName="perguntaRI3{{i}}" min="1" max="5">
      </form>
      <div class="row descricao-concordancia">
        <div class="col">Discordo totalmente</div>
        <div class="col">Discordo</div>
        <div class="col">Indiferente</div>
        <div class="col">Concordo</div>
        <div class="col">Concordo totalmente</div>
      </div>
    </div> 
  </table>

  <div class="d-grid gap-2 col-6 mx-auto">
    <button type="submit" class="btn btn-primary mt-5 button-save" (click)="salvarResultados(currentTab)">Salvar</button>
  </div>
</div>

<div class="container">
  <div *ngIf="isResponseOk; else errorTemplate" class="alert alert-success fade-in-up mt-3" role="alert">
      Avaliação realizado com sucesso!
  </div>
  <ng-template #errorTemplate>
      <div *ngIf="isResponseError" class="alert alert-danger mt-3 fade-in-up" role="alert">
          Algo deu errado! Não foi possível salvar a avaliação.
      </div>
  </ng-template>
</div>
